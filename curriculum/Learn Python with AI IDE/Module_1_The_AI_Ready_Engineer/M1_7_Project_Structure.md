# Module 1 Lesson 7: 工程结构与工作区 (Project Structure & Workspaces)

> **Module 1: The AI-Ready Engineer**
> **目标**：从“散兵游勇”到“正规军”。建立严谨的项目物理视图与管理逻辑。

---

## 1. 理论：为什么单个文件无法承载工程？

在你之前的认知里，你可能习惯于“双击一个 `.py` 文件”然后点击运行。但在现代 AI 辅助开发中，我们必须强制引入 **Workspace (工作区)** 的概念。

**核心痛点：**
1.  **盲人摸象**：如果你只打开一个文件，AI 助手无法看到你其他的代码片段或配置文件。这会导致它给出错误的提示，因为它不知道你的“全局上下文”。
2.  **路径灾难**：我们在 M1_3 学过相对路径。如果你不指定一个固定的“根目录”，你的代码在不同环境下引用图片或数据文件时会频繁崩溃。

**结论**：在软件工程中，**“打开文件夹”比“打开文件”重要 10 倍。**

---

## 2. 机制：工作区根目录 (Workspace Root) 的主权

当你把一个文件夹拖入 **Antigravity** 或通过 `File -> Open Folder` 打开它时，这个文件夹就成为了整个项目的 **Root (根目录)**。

### 2.1 根目录的意义
*   **搜索边界**：所有的“全局搜索”默认都在这个范围内进行。
*   **AI 的视界**：Antigravity 会扫描根目录下的所有内容，将其转化为 AI 的“知识图谱”。
*   **权限边界**：现代 IDE 在执行敏感操作（如删除文件）时，会确认该操作是否发生在工作区内。

### 2.2 推荐的工程目录美学
一个专业的 Python 基础课程项目通常包含以下结构：
```text
my_project_root/           # 这是你的根目录
├── data/                  # 存放原始数据（csv, json, txt）
├── scripts/               # 存放主要的执行脚本
├── docs/                  # 存放说明文档（Markdown）
├── logs/                  # 存放运行日志
└── .env                   # 存放环境配置（隐藏文件）
```
**这种井井有条的结构，不仅是为了让你看着舒服，更是为了让 AI 能秒懂你的逻辑组织方式。**

---

## 3. 指令：搭建你的第一个专业项目

现在，我们要通过 Antigravity 动手实践一次“工程级”的空降。

### 3.1 彻底切换到工作区模式
1.  关闭你当前打开的所有散装文件。
2.  在你的 `Documents` 或 `Desktop` 下选取一个干净的位置，创建一个项目文件夹 `ai_lab_v1`。
3.  在 Antigravity 中 `File -> Open Folder...` 选择这个 `ai_lab_v1`。

### 3.2 建立多层级骨架
在 Antigravity 的左侧资源管理器中，点击“新建文件夹”图标：
1.  新建 `modules/`
2.  新建 `assets/`
3.  在 `modules/` 下新建 `core_logic.py`。
4.  在根目录下新建 `main.py`。

### 3.3 路径穿透验证
在 `main.py` 中输入：
```python
import os
print("=== 路径安全检查系统 ===")
print("当前脚本位置:", __file__)
print("当前工作区根目录 (Root):", os.getcwd())
```
**运行观察**：
无论你是在 `modules` 文件夹里点击运行，还是在根目录点击运行，观察 `os.getcwd()` 的输出。你会发现，它是**恒定**的。这就是引入工作区带来的**确定性**。

---

## 4. 深度：工作区配置文件

当你配置好一个工作区（如选择了解释器、设置了字体缩进），IDE 会在根目录下自动建立一个隐藏文件夹：**.vscode (或 Antigravity 的配置目录)**。

> [!NOTE]
> 这就是项目的“记忆芯片”。当你把整个文件夹拷给同事，他在打开时能自动继承你的所有配置。**这就是工程复现性的基础。**

---

## 5. 硬核练习

1.  **跨级别引用挑战**：
    在 `assets/` 下创建一个名为 `config.info` 的文本文件，随便写一句话。然后尝试在 `main.py` 中用 Python 读取这个文件的内容。
    **重点**：你会发现，你需要使用相对路径 `assets/config.info`。如果你不在根目录下打开 IDE，这个路径就会报错。

2.  **搜索力爆发**：
    在 `core_logic.py` 里写一个特殊的标记，比如 `# TODO: AI-ENGINE-BETA`。然后尝试使用 IDE 的“全局搜索”功能直接回车找到它。感受这种从“看代码”到“搜代码”的视角转变。

3.  **重构演练**：
    尝试在资源管理器里通过鼠标拖动 `core_logic.py` 的位置。观察 IDE 是否询问你“是否要自动更新依赖路径”。感受 IDE 为你提供的“安全感”。

---

> [!IMPORTANT]
> **本阶段总结**：
> 掌握了工作区，你就掌握了工程的“整体感”。你不再是盯着一个文件死磕的码农，而是能俯瞰全局的架构雏形。
>
> **接下来，我们将迎来 Module 1 的重头戏：认识你侧边栏里的那款超强 Agent。**
