# Module 1 Lesson 9: 自动化闭环：授权、执行与核验

> **课程体系：Learn Python with AI IDE**
> **当前模块**：Module 1 - The AI Ready Engineer
> **本课目标**：理解 AI 自动化执行的底层逻辑。掌握授权机制（Authorization），学习如何审计并核验 AI 自动执行的工程指令，建立安全、受控的人机协作流程。

---

### 🔙 前修回顾
在 **M1L8** 中，你已经掌握了 AI 侧边栏及上下文引用的基础操作。通过 `@` 符号，你可以让 AI 精准地读取并解释你现有项目结构中的逻辑内容。

### 📅 今日预告
今天，我们将进入人机协作的深水区：从“让 AI 解释代码”进化到“让 AI 自动化执行工程任务”。

在之前的学习中，你亲自体验过终端命令 (L2)、环境配置 (L4) 和脚本运行 (L5)。当掌握了这些底层原理后，你将有能力监督 AI 自动完成这些枯燥的体力活。我们将重点学习 **Antigravity** 的“授权机制”，确保 AI 的每一个自动化动作都在你的审计和掌控之下。

---

## 1. 工程逻辑：工具主权 (Tool Sovereignty)

在 Module 1 接近尾声时，我们需要确立一个核心原则：**开发者对生产工具拥有绝对的控制权与核验权。**

### 1.1 授权即控制
在现代 AI IDE 中，Agent（智能体）可以直接介入你的系统。它可以自动创建文件夹、执行终端命令、甚至重写文件。
*   **非黑盒操作**：AI 的自动化不应是不可见的。在 **Antigravity** 中，它执行的每一个敏感步动作都会显式展示。
*   **授权模型**：AI 与人类的关系不是“替代”，而是“授权”。它必须在获取你的明确许可后才能执行关键任务。

### 1.2 核验是能力的体现
为什么初学者需要学习底层的 L2-L5 知识？
*   **审计能力**：只有你知道 `cd`、`mkdir` 和 `python` 命令背后的含义，你才能在 AI 准备执行这些操作时判断其是否安全。
*   **核验跨越**：
    *   **初级阶段**：核验自己写的代码行。
    *   **工程进阶**：审计 AI 生成的整个功能模块及对应的自动化运行环境。

---

## 2. 运行逻辑：透视自动化执行过程

当你下达指令让 AI 自动化执行任务时，请注意观察 **Antigravity** 的执行链路，理解其背后的逻辑：

1.  **影子终端 (Agent Terminal)**：IDE 会为 AI 开启一个独立的执行环境。这种隔离设计确保了 AI 的自动化操作不会干扰开发者正在使用的手动终端。
2.  **指令透明化**：即便操作是自动生成的，AI 依然会展示它所使用的原始命令（如 `python scripts/demo.py`），供开发者随时复审和手动复现。

---

## 3. 操作指引：权限管理机制

在执行自动化任务前，请熟悉 IDE 的**权限询问框**：

*   **Approve (允许)**：确认指令无误，允许 AI 继续执行。
*   **Reject (拒绝)**：发现 AI 路径有误或指令异常，果断中止任务。

*提示：在 Antigravity 的设置 (Settings) 中，可以将权限等级设置为“始终请求许可”。作为初学者，这种模式能让你通过观察 AI 的每一个动作来加深对工程逻辑的理解。*

---

## 4. 重点实验：全链路自动化实战

我们将要求 AI 自动完成“根据 README 要求，新建并运行脚本”的闭环。

### 4.1 下达指令
在 AI 对话框中引用项目背景，输入：
> “根据 @README.md 的描述，请在 `scripts` 文件夹下创建一个名为 `auto_check.py` 的脚本，打印出项目的核心功能。**写完后，请直接帮我运行它。**”

### 4.2 审计并授权
1.  **观察指令块**：对话界面会跳出一个 Terminal 执行任务块。
2.  **核验路径**：确认命令是否指向了 `scripts/auto_check.py`，且操作符合预期。
3.  **点击 Approve**：执行授权动作。

### 4.3 物理核验结果
自动化完成后，进行以下三点检查：
1.  **文件树**：左侧 `scripts/` 目录下是否生成了新文件。
2.  **执行产物**：在对话框中展开执行结果，查看控制台输出是否正确。
3.  **二次复现**：在手动终端中尝试运行 `python scripts/auto_check.py`。你会发现由于指向同一物理文件，手动运行的结果与 AI 报告的完全一致。

---

## 5. 工程质量核验 (Engineering Checkpoint)

### ✅ 验收标准 (Pass Criteria)
1.  **流程掌握**：能够识别并处理 AI 的授权请求（Approve/Reject）。
2.  **路径精确**：AI 自动创建的文件必须准确落在指定的子工程目录下。
3.  **日志审计**：能够读懂 AI 执行块中的终端命令。

---

## 6. 结语：建立人机协作规范

今天，你见识到了现代工程开发的“原力”。通过授权与核验的循环，你将繁琐的底层操作变成了高维度的指引。

掌握了这一套“授权执行”的逻辑，意味着你已经具备了管理更复杂生产工具的能力。这标志着你已经完成了 Module 1 的所有核心挑战。

**在下一课中，我们将对 Module 1 的所有工程支点进行最终复盘，并正式开启通往 Module 2: Python Essentials 的大门。**
