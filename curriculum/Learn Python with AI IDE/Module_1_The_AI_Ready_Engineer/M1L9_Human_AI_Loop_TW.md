# Module 1 Lesson 9: 協作指揮官：授權與自動化循環

> **課程體系：Learn Python with AI IDE**
> **當前模組**：Module 1 - The AI Ready Engineer
> **本課目標**：實踐 AI 時代的最高編程範式。理解 **Antigravity** 的自動化執行邏輯，掌握「授權 (Authorization)」這一核心主權，觀察並驗證 Agent 自動完成工程任務的全過程。

---

### 🔙 前修回顧
在 **M1L8** 中，你見識了 **Toggle Agent** 的強大索引能力。它不僅能看懂你的對話，還能透視你的整個工作區。

### 📅 今日預告
今天，我們將跨入「超自動化」的門檻。

在之前的學習中，你親自操作過終端機 (`L2`)，搭建過環境 (`L4`)，手動執行過腳本 (`L5`)。當你掌握了這些「工程手感」後，現在是時候讓你的 **Toggle Agent** 接過沈重的體力活了。我們將學習如何指揮它自動創建檔案並執行任務，以及更關鍵的——如何透過**控制權限**，守住你作為人類工程師的最後主權。

---

## 1. Philosophy: 授權即主權

在 **Antigravity** 中，你和 AI 的關係不是「它替你做」，而是「你授權它做」。

### 1.1 自動化不僅僅是「寫代碼」
以前你可能認為 AI 只是吐出一段文字讓你複製。但在現代 AI IDE 中，Agent 是可以**直接介入**你的系統的。它可以：
*   **自動化 L2**：在終端機裡輸入任何你學過的指令。
*   **自動化 L7**：直接在你的目錄結構裡新建資料夾和檔案。
*   **自動化 L5**：直接調用解釋器執行腳本並向你報告結果。

### 1.2 主權的最高表現：授權 (Permission)
為什麼你依然是「指揮官」？因為在 **Antigravity** 的控制權天平上，它做的每一個敏感動作（寫檔案、跑命令），都必須經過你的**手點確認 (Approve)**。
*   如果你不點那個綠色勾選按鈕，它就動彈不得。
*   這便是 AI 時代的主權：你掌握著開啟自動化魔法的紅色按鈕。

---

## 2. The Raw Logic：透視自動化的底座

當你下達指令讓 Agent 執行任務時，請屏住呼吸觀察 **Toggle Agent** 界面。你會發現它在進行「影子操作」：

1.  **影子終端機 (Agent Terminal)**：Antigravity 會為 Agent 開啟一個專屬的執行空間。它可能直接嵌入在對話框中，也可能在終端機面板新建一個分頁。
2.  **隔離意識**：它不會佔用你原本手動開啟的那個終端機（那是你的「手動保留區」）。這種設計確保了 AI 的自動化操作與你的手動操作互不干擾。
3.  **指令可見**：即便操作是自動的，Agent 依然會誠意地展示它所使用的指令（如 `python scripts/test.py`），供你這個指揮官隨時審計。

---

## 3. Instruction：配置你的權力邊界

在開始實戰前，請注意 IDE 界面上跳出的**權限詢問框**。
*   **Approve (允許)**：你確認 AI 這一步動作是安全的，讓它繼續。
*   **Reject (拒絕)**：你發現 AI 指令有誤，果斷中止。

*注意：你可以在 Antigravity 的設置 (Settings) 中調整權限等級，例如「始終詢問」或「靜默執行」。作為初學者，建議保持「始終詢問」，以此來深度觀察 AI 的每一個操作細節。*

---

## 4. Practice：一次全程自動化實戰

我們將要求 Agent 自動化完成「讀取-創建-執行」的全鏈路。

### 第一階段：觀察「手感」的自動化
在 **Toggle Agent** 中引用項目結構，輸入指令：
> 「@my_project 請在 `scripts` 資料夾下新建一個名為 `auto_run.py` 的腳本。內容根據我們的 @README.md，打印出本項目的名称。**寫完後，請直接幫我執行它。**」

### 第二階段：行使主權 —— 點擊授權
*   **觀察**：你會看到 Agent 開始在右側面板動作。它會展示它準備執行的 **Terminal 命令**。
*   **動作**：此時請仔細閱讀那個命令。當你確認它是在 `scripts` 下操作時，點擊界面上的 **Approve (允許按鈕)**。

### 第三階段：眼見為實 —— 成果核驗
自動化完成後，請不要只看對話框，去進行物理核驗：
1.  **看檔案總管**：你會發現 `scripts/auto_run.py` 真的神奇地誕生了。
2.  **看執行產物 (Agent Outcome)**：在 Toggle Agent 的對話框裡，點擊展開那個執行結果塊。你會看到原本屬於終端機的輸出，現在被優雅地集成在了對話中。
3.  **手動二次驗證 (Optional)**：如果你依然「不放心」，可以回到你底部的**手動保留區終端機**，輸入 `python scripts/auto_run.py` 親自跑一遍。你會發現，「影子終端機」和「手動終端機」指向的是同一個物理檔案。

---

## 5. Engineering Checkpoint (工程自檢)

### ✅ 驗收標準 (Pass Criteria)
1.  **權限感知**：能準確識別出 Agent 何時在等待你的手動授權（Approve）。
2.  **路徑驗證**：Agent 自動創建的檔案必須準確落在你指定的 `scripts` 目錄下。
3.  **底層透視**：透過觀察 Agent 的執行日誌，能認出它所使用的終端機命令。

---

## 6. 結語：協作的藝術

今天，你見識到了現代工程開發的「原力」。

你不再是一個人在戰鬥。透過授權，你將之前學到的繁瑣操作（檔案編輯、環境執行）變成了一行指令。你不再是代碼的「搬運工」，而是整個自動化流程的**總設計師**。

**恭喜你，你已經全副武裝，完成了 Module 1 的所有挑戰。在下一課，我們將對這周的成果進行一次大閱兵，並正式開啟通往 Module 2 的大門。**
